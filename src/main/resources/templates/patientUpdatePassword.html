<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <link rel="shortcut icon" type="" href="/assets/favicon.ico" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Spartan:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link type="text/css" href="/css/styles.css" rel="stylesheet" />
    <link type="text/css" href="/css/patientUpdatePassword.css" rel="stylesheet" />


    <script src="https://kit.fontawesome.com/6b18f74cf6.js" crossorigin="anonymous"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>NutritionX - Actualizar contraseña</title>
</head>

<body>
    <header>
        <nav>
            <div class="nav-wrapper" style="background-color:#59a52c;">
                <a href="#" data-target="slide-out" class="sidenav-trigger text-decoration-none">
                    <i class="material-icons">menu</i>
                </a>
                <a href="/home" class="brand-logo" style="margin-top: .35%;">
                    <img class="img-fluid" width="250" style="height: auto;" src="https://github.com/arielrbv/universidadutiles/blob/main/svgexport-84.png?raw=true" />
                </a>
                <ul id="nav-mobile" class="right hide-on-med-and-down ">

                    <li>
                        <form id="logoutForm" action="/logout" method="post">
                            <a href="javascript:{}" onclick="document.getElementById('logoutForm').submit();">
                                <i class="material-icons left ">power_settings_new</i> Cerrar sesión
                            </a>
                        </form>
                    </li>
                </ul>
            </div>
        </nav>
        <!--################################### SIDENAV #################################### -->
        <ul id="slide-out" class="sidenav">
            <li>
                <div class="user-view">
                    <div class="background">
                        <img src="https://github.com/arielrbv/universidadutiles/blob/main/sample-1.png?raw=true" />
                    </div>
                    <a href="#user">
                        <img class="circle" src="" />
                    </a>
                    <span class="white-text" th:text="${patient.firstName}+' '+${patient.lastName}" />
                </div>
            </li>
            <li>
                <a href="/profile/update">
                    <i class="material-icons">person</i> Actualizar perfil
                </a>
            </li>
            <li>
                <a href="/password/update">
                    <i class="material-icons">vpn_key</i> Actualizar contraseña
                </a>
            </li>
            <li>
                <div class="divider"></div>
            </li>
            <li>
                <a class="waves-effect" href="javascript:{}" onclick="document.getElementById('logoutForm').submit();">
                    <i class="material-icons left ">power_settings_new</i> Cerrar sesión
                </a>
            </li>
        </ul>
    </header>
    <!--################################### WELCOME BANNER #################################### -->
    <main>
        <div class="container">
            <div class="row" style="margin-top: 35px; margin-bottom: 0px;">
                <div class="col l12 m12 s12">
                    <h5 class="title m-0">Actualizar contraseña</h5>
                </div>
            </div>

            <div class="row">
                <form id="theForm" action="/password/update" th:object="${genericUser}" method="post">
                    <div class="col l6 m12 s12">
                        <div class="row" style="margin-bottom: 0px;">
                            <div class="col l6 m6 s12">
                                <div class="input-field zpadding0">
                                    <input id="currentPass" type="password" class="validate" th:field="*{cPass}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu Contraseña actual')" oninput="this.setCustomValidity('')" />
                                    <label for="currentPass">Contraseña actual</label>
                                    <span class="helper-text" data-error="Campo obligatorio" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col l6 m6 s12">
                                <div class="input-field zpadding0">
                                    <input id="newPass" type="password" class="validate" th:field="*{nPass}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu nueva Contraseña')" oninput="this.setCustomValidity('')" />
                                    <label for="newPass">Nueva contraseña</label>
                                    <span id="newPassMsg" class="helper-text" data-error="Campo obligatorio" />
                                </div>
                            </div>
                            <div class="col l6 m6 s12">
                                <div class="input-field zpadding0">
                                    <input id="confirmPass" type="password" class="validate" th:field="*{nPassC}" required oninvalid="this.setCustomValidity('Por favor, confirma tu nueva Contraseña ')" oninput="this.setCustomValidity('')" />
                                    <label for="confirmPass">Confirme contraseña</label>
                                    <span id="confirmPassMsg" class="helper-text" data-error="Campo obligatorio" />
                                </div>
                            </div>
                            <div class="col l12 m12 s12">
                                <span id="validationMsg" class="red-text hide" style="font-weight: 600; font-size: 12px;">Nueva contraseña no coincide con su confirmacion</span>
                            </div>
                            <div class="col l12 m12 s12" style="margin-top: 20px;">
                                <button class="btn" style="width: 100%;" type="submit" onclick="validateNewPass()">Actualizar contraseña</button>
                            </div>
                        </div>
                    </div>
                </form>

                <div class="col l6 offset-3">
                    <div class="row valign-wrapper" style="margin-bottom: 10px;">
                        <img class="animate__animated animate__pulse animate__infinite" src="/assets/others/insurance.png" style="width: 30px; margin-left:10px; margin-right: 5px;" />
                        <span class="inline" style="font-weight: 600; margin-top: 5px;">Sugerencias para crear una contraseña segura</span>
                    </div>

                    <ul class="browser-default" style="padding-left: 14%; font-size: 13px;">
                        <li>Utlizar al menos una letra mayuscula.</li>
                        <li>Utlizar al menos una letra minuscula.</li>
                        <li>Utlizar al menos un número.</li>
                        <li>Utlizar al menos un caracter especial: <br/> ('!', '#', '%', '$', '&', '?', etc).</li>
                    </ul>


                </div>
            </div>
        </div>

        <!--################################### MODAL & Overlay #################################### -->
        <div id="modal1" class="modal">
            <div class="modal-content" style="padding: 15px; padding-top:12px; padding-bottom:0px;">
                <h5>Contraseña Actualizada</h5>
                <p>Su contraseña ha sido actualizado con exito</p>
            </div>
            <div class="modal-footer">
                <a href="/home" class="modal-close waves-effect waves-green btn">Aceptar</a>
            </div>
        </div>




        <!--################################### FIXED BUTTON #################################### -->
        <div class="fixed-action-btn direction-top hide-on-small-only hide-on-med-only" style="bottom: 28%; right: 24px;">
            <a class="btn-floating btn-large " style="background-color:#0b423d;">
                <i class="material-icons">menu</i>
            </a>
            <ul>
                <li>
                    <a href="/profile/update" class="btn-floating blue-grey darken-4 tooltipped" data-position="left" data-tooltip="Actualizar perfil" style="opacity: 0; transform: scale(0.4) translateY(40px) translateX(0px);">
                        <i class="material-icons">person</i>
                    </a>
                </li>
                <li>
                    <a href="/password/update" class="btn-floating deep-orange tooltipped" data-position="left" data-tooltip="Actualizar contraseña" style="opacity: 0; transform: scale(0.4) translateY(40px) translateX(0px);">
                        <i class="material-icons">vpn_key</i>
                    </a>
                </li>
            </ul>
        </div>
    </main>


    <!--################################### FOOTER #################################### -->
    <footer class="page-footer" style="background-color:#59a52c; ">
        <div class="container">
            <div class="row g-0 ">
                <div class="col l4 m4 s12">
                    <h5 class="white-text ">NutritionX vAlfa</h5>
                    <a class=" tooltipped text-decoration-none " data-position="right " data-tooltip="Funcionalidad aún no disponible ">
                        <p class="grey-text text-lighten-4 ">Terminos y Condiciones</p>
                    </a>
                </div>
                <div class="col l4 offset-l2 offset-m1 m6 s12">
                    <h5>Siguenos</h5>
                    <ul>
                        <li>
                            <a class="btn-floating btn-large waves-effect waves-light " style="background-color:#354a63; ">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a class="btn-floating btn-large waves-effect waves-light " style="background-color:#354a63; ">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a class="btn-floating btn-large waves-effect waves-light grey-text text-lighten-3 " style="background-color:#354a63; ">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a class="btn-floating btn-large waves-effect waves-light grey-text text-lighten-3 " style="background-color:#354a63; ">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright ">
            <div class="container center ">
                © 2021 Copyright - TFI Ariel Romero
            </div>
        </div>
    </footer>

    <script src="/js/jquery-3.6.0.min.js "></script>
    <script src="/js/matminjs.js"></script>
    <script src="/js/general.js"></script>
    <script src="/js/patientUpdatePassword.js"></script>

</body>

</html>