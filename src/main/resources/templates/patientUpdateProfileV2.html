<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <link rel="shortcut icon" type="" href="/static/assets/favicon.ico" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Spartan:wght@300;400;500;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link type="text/css" href="/static/css/patientUpdateProfile.css" rel="stylesheet" />
    <link type="text/css" href="/static/css/styles.css" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/6b18f74cf6.js" crossorigin="anonymous"></script>
    <meta charset="utf-8" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 -->
    <title>NutritionX - Actualizar perfil</title>
</head>

<body>
    <header>
        <nav>
            <div class="nav-wrapper" style="background-color:#59a52c;">
                <a href="#" data-target="slide-out" class="sidenav-trigger text-decoration-none">
                    <i class="material-icons">menu</i>
                </a>
                <a href="/static/home" class="brand-logo">
                    <img class="img-fluid" width="270" style="height: auto;" src="https://github.com/arielrbv/universidadutiles/blob/main/svgexport-84.png?raw=true" />
                </a>
                <ul id="nav-mobile" class="right hide-on-med-and-down ">

                    <li>
                        <form id="logoutForm" action="/static/logout" method="post">
                            <a href="javascript:{}" onclick="document.getElementById('logoutForm').submit();">
                                <i class="material-icons left ">power_settings_new</i> Cerrar sesión
                            </a>
                        </form>
                    </li>
                </ul>
            </div>
        </nav>
        <!--################################### SIDENAV #################################### -->
        <ul id="slide-out" class="sidenav">
            <li>
                <div class="user-view">
                    <div class="background">
                        <img src="https://github.com/arielrbv/universidadutiles/blob/main/sample-1.png?raw=true" />
                    </div>
                    <a href="#user">
                        <img class="circle" src="" />
                    </a>
                    <span class="white-text" th:text="${patient.firstName}+' '+${patient.lastName}" />
                </div>
            </li>
            <li>
                <a href="#!">
                    <i class="material-icons">person</i> Actualizar perfil
                </a>
            </li>
            <li>
                <a href="#!">
                    <i class="material-icons">vpn_key</i> Actualizar contraseña
                </a>
            </li>
            <li>
                <div class="divider"></div>
            </li>
            <li>
                <a class="waves-effect" href="javascript:{}" onclick="document.getElementById('logoutForm').submit();">
                    <i class="material-icons left ">power_settings_new</i> Cerrar sesión
                </a>
            </li>
        </ul>
    </header>
    <!--################################### WELCOME BANNER #################################### -->
    <main>
        <div class="container">
            <div class="row g-0" style="margin-top: 35px; margin-bottom: 0px;">
                <div class="col col-12 col-lg-12 col-md-12 col-sm-12">
                    <h4 class="title ">Actualizar perfil</h4>
                </div>
            </div>
            <div class="row">
                <div class="col col-12 col-lg-3 col-md-12 col-sm-12">
                    <div class="card z-depth-0 border-0">
                        <div class="card-image d-flex justify-content-center">
                            <img style="width: 80%;" src="https://github.com/arielrbv/universidadutiles/blob/main/sample-1.png?raw=true" />
                            <span class="card-title"></span>
                            <a class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">add</i></a>
                        </div>
                        <div class="card-content" style="margin-top: 0%; padding-top:5%; padding:5%;">
                            <div class="row" style="margin-top: 0%; margin-bottom: 0px;">
                                <div class="col col-12 col-lg-12">
                                    <button class="waves-effect waves-light btn-small grey" style="width: 100%;">Actualizar contraseña</button>
                                </div>
                            </div>
                            <div class="row" style="margin-top: 4%;">
                                <div class="col col-12 col-lg-12">
                                    <button class="waves-effect waves-light btn-small grey" style="width: 100%;">Eliminar contraseña</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col col-lg-9 col-md-9">
                    <h6 class="title">Datos personales</h6>
                    <form id="theForm" action="/static/profile/update" method="post">
                        <div class="row">
                            <div class="col col-12 col-lg-4 col-md-5 col-sm-12">
                                <div class="input-field zpadding0">
                                    <input disabled id="firstName" type="text" class="validate ztext" th:field="${patient.firstName}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu Nombre')" oninput="this.setCustomValidity('')" />
                                    <label for="firstName">Nombre</label>
                                </div>
                            </div>
                            <div class="col col-12 col-lg-4 col-md-5 col-sm-12">
                                <div class="input-field zpadding0">
                                    <input disabled id="lastName" type="text" class="validate" th:field="${patient.lastName}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu Apellido')" oninput="this.setCustomValidity('')" />
                                    <label for="lastName">Apellido</label>
                                </div>
                            </div>
                            <div class="col col-12 col-lg-4 col-md-5 col-sm-12">
                                <div class="input-field zpadding0">
                                    <input disabled id="dni" type="number" class="ztext validate " th:field="${patient.dni}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu DNI')" oninput="this.setCustomValidity('')" />
                                    <label for="dni">DNI</label>
                                </div>
                            </div>
                            <div class="col col-12 col-lg-4 col-md-5 col-sm-12">
                                <div class="input-field zpadding0">
                                    <input id="dateAux" type="text" class="validate datepicker overflow-auto" th:field="${aux.date}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu Fecha de Nacimiento')" oninput="this.setCustomValidity('')" />
                                    <label for="dateAux">Fecha de Nacimiento</label>
                                </div>
                            </div>
                            <div class="col col-12 col-lg-4 col-md-5 col-sm-12">
                                <div class="input-field zpadding0">
                                    <input id="email" type="email" class="validate ztext" th:field="${patient.email}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu Email')" oninput="this.setCustomValidity('')" />
                                    <label for="email">Email</label>
                                </div>
                            </div>
                            <div class="col col-12 col-lg-4 col-md-5 col-sm-12">
                                <div class="input-field zpadding0">
                                    <input id="phone" type="text" class="validate ztext" th:field="${patient.phone}" required oninvalid="this.setCustomValidity('Por favor, ingresa tu Nombre')" oninput="this.setCustomValidity('')" />
                                    <label for="phone">Teléfono</label>
                                </div>
                            </div>
                        </div>
                        <h6 class="title">Características físicas</h6>
                        <div class="row mb-2">
                            <div class="col col-12 col-lg-3 col-md-5 col-sm-12">
                                <div class="zheight input-field inline zpadding0" style="margin-left: 0px;">
                                    <input id="height" type="text" th:field="${patient.height}" class="validate">
                                    <label for="heigth">Altura</label>
                                </div>
                                Mts
                            </div>
                            <div class="col col-12 col-lg-3 col-md-5 col-sm-12 ">
                                <div class="zheight input-field inline">
                                    <input id="weight" type="text" th:field="${patient.weight}" class="validate">
                                    <label for="weight">Peso</label>
                                </div>
                                Kgs
                            </div>
                        </div>
                        <div class="row">
                            <div class="col col-lg-3 col-md-5 col-sm-12 mt-0">
                                <button type="submit" class="btn waves-effect waves-light green text-white" style="width: 100%;" onclick="updatePatient()">Guardar Cambios</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!--################################### FIXED BUTTON #################################### -->
        <div class="fixed-action-btn direction-top hide-on-small-only hide-on-med-only" style="bottom: 23%; right: 24px;">
            <a class="btn-floating btn-large " style="background-color:#0b423d;">
                <i class="material-icons">menu</i>
            </a>
            <ul>
                <li>
                    <a class="btn-floating blue-grey darken-4 tooltipped" data-position="left" data-tooltip="Actualizar perfil" style="opacity: 0; transform: scale(0.4) translateY(40px) translateX(0px);">
                        <i class="material-icons">person</i>
                    </a>
                </li>
                <li>
                    <a class="btn-floating deep-orange tooltipped" data-position="left" data-tooltip="Actualizar contraseña" style="opacity: 0; transform: scale(0.4) translateY(40px) translateX(0px);">
                        <i class="material-icons">vpn_key</i>
                    </a>
                </li>
            </ul>
        </div>
        <!--################################### OVERLAY + POPUP #################################### -->
        <div class="overlay" id="overlay">
            <div class="popup" id="popup">
                <a href="/static/login" id="btn-cerrar-popup" class="btn-cerrar-popup">
                    <i class="fas fa-times"></i>
                </a>
                <h3>Cuenta Creada</h3>
                <h4>Recibirá un correo desde el que podrá activar su cuenta</h4>
                <form action="/static/login">
                    <div class="contenedor-body">
                        <img height="150px" style="padding-bottom: 40px" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Commons-emblem-success.svg/1024px-Commons-emblem-success.svg.png" />
                    </div>
                    <a href="/static/login" class="btn btn-primary">Iniciar sesión</a>
                </form>
            </div>
        </div>
        <div class="overlay2" id="overlay2">
            <div class="d-flex justify-content-center">
                <div class="spinner-border" id="spinner" role="status" style="width: 5rem; height: 5rem;"></div>
            </div>
        </div>

        <!--################################### OVERLAY 2 #################################### -->
        <div id="modal1" class="modal modal-fixed-footer" th:with="imc=${patient.weight}/(${patient.height}*${patient.height})" style="height: 470px;">
            <div class="modal-content">
                <h5>Indice de Masa Corporal</h5>
                <p>
                    El Indice de Masa Coporal (IMC) es un calculo reconocido internacionalmente para el calculo de sobrepeso en mayores de 18 años. Tu IMC es igual a
                    <b>
                        <span th:text="${#numbers.formatDecimal(imc, 0, 'COMMA', 2, 'POINT')}"></span>
                    </b> lo que indica que:
                </p>
                <p class="center">
                    <span th:if="${imc <= 18.5}">
                        Tienes un
                        <b>Peso Insuficiente para tu talla</b>
                        .
                    </span>
                    <span th:if="${imc >= 18.5 and imc <= 24.9}">
                        Tu peso es
                        <b>Normal</b>
                        .
                    </span>
                    <span th:if="${imc >= 25 and imc <= 29.9}">
                        Padeces
                        <b>Sobrepeso</b>
                        .
                    </span>
                    <span th:if="${imc >= 30}">
                        Padeces
                        <b>Obesidad</b>
                        .
                    </span>
                </p>

                <p>Estos datos tambien seran incluidos en el sistema de forma que pueda proporcionarte el Plan Nutricional adecuado.
                </p>

                </br>
                <span>Aqui una referencia del IMC y sus categorias: </span>
                <p class="offset-1">
                    Peso insuficiente
                    < 18.5 <br /> Normal 18.5–24.9
                    <br /> Sobrepeso 25.0–29.9
                    <br /> Obesidad >= 30.0
                </p>
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-green btn-flat center">De acuerdo</a>
            </div>
        </div>



    </main>




    <!--################################### FOOTER #################################### -->

    <footer class="page-footer" style="background-color:#59a52c; ">
        <div class="container">
            <div class="row">
                <div class="col l4 m12 s12">
                    <h5 class="white-text ">NutritionX vAlfa</h5>
                    <a class=" tooltipped text-decoration-none " data-position="right " data-tooltip="Funcionalidad aún no disponible ">
                        <p class="grey-text text-lighten-4 ">Terminos y Condiciones</p>
                    </a>
                </div>
                <div class="col l4 offset-l2 m12 s12">
                    <h5>Siguenos</h5>
                    <ul>
                        <li>
                            <a class="btn-floating btn-large waves-effect waves-light " style="background-color:#354a63; ">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a class="btn-floating btn-large waves-effect waves-light " style="background-color:#354a63; ">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a class="btn-floating btn-large waves-effect waves-light grey-text text-lighten-3 " style="background-color:#354a63; ">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a class="btn-floating btn-large waves-effect waves-light grey-text text-lighten-3 " style="background-color:#354a63; ">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright ">
            <div class="container center ">
                © 2021 Copyright - TFI Ariel Romero
            </div>
        </div>
    </footer>

    <script src="/static/js/jquery-3.6.0.min.js "></script>
    <script src="/static/js/matminjs.js"></script>
    <script src="/static/js/general.js"></script>
    <script type="text/javascript" src="/static/js/patientUpdateProfile.js"></script>

</body>

</html>